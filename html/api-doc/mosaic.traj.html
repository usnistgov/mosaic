<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>14.1.3. Time-Series IO &#8212; MOSAIC 2.0b1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="14.1.4. Time-Series Filters" href="mosaic.filter.html" />
    <link rel="prev" title="14.1.2. Meta-Classes" href="mosaic.meta.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

	<script async type="text/javascript" id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=NIST&subagency=github&pua=UA-42404149-54&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c">
	</script>	

	<meta name="theme-color" content="#283593">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/icon_48.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>2.0b1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../latex/MOSAIC.pdf">Download PDF</a></li>
                <li><a href="../doc/mailingList.html">Mailing List</a></li>
                <li><a href="//github.com/usnistgov/mosaic">Develop</a></li>
                <li><a href="//github.com/usnistgov/mosaic/issues">Issue Tracker</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Contents <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../doc/Introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Algorithms.html">2. Data Processing Algorithms in <em>MOSAIC</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/GettingStarted.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/GraphicalInterface.html">4. <em>MOSAIC</em> GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/WebInterface.html">5. <em>MOSAIC</em> WEB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/settingsFile.html">6. Settings File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/DatabaseStructure.html">7. Database Structure and Query Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/ScriptingandAdvancedFeatures.html">8. Scripting and Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Extend.html">9. Extend <em>MOSAIC</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/PublicationFigures.html">10. Publication Quality Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/AdvancedAnalysis.html">11. Advanced Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Addons.html">12. Addons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/DeveloperTools.html">13. Developer Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../doc/apidocs.html">14. API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/References.html">15. Bibliography</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="time-series-io">
<h1>14.1.3. Time-Series IO<a class="headerlink" href="#time-series-io" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mosaic-trajio-abftrajio-module">
<h2>14.1.3.1. mosaic.trajio.abfTrajIO module<a class="headerlink" href="#mosaic-trajio-abftrajio-module" title="Permalink to this headline">¶</a></h2>
<img src="../_images/inheritance-472e2c53fcb2edb4252610737e07a41d464aae8c.png" alt="Inheritance diagram of mosaic.trajio.abfTrajIO" usemap="#inheritancef6219e35d8" class="inheritance"/>
<map id="inheritancef6219e35d8" name="inheritancef6219e35d8">
<area shape="rect" id="node1" href="../doc/settingsFile.html#mosaic.trajio.abfTrajIO.abfTrajIO" target="_top" title="Read ABF1 and ABF2 file formats. Currently, only " alt="" coords="211,5,346,29"/>
<area shape="rect" id="node2" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" target="_top" title=".. warning:: |metaclass|" alt="" coords="5,5,163,29"/>
</map><span class="target" id="module-mosaic.trajio.abfTrajIO"></span><p>A TrajIO class that supports ABF1 and ABF2 file formats via abf/abf.py. Currently, only
gap-free mode and single channel recordings are supported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Created:</th><td class="field-body">5/23/2013</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Arvind Balijepalli &lt;<a class="reference external" href="mailto:arvind&#46;balijepalli&#37;&#52;&#48;nist&#46;gov">arvind<span>&#46;</span>balijepalli<span>&#64;</span>nist<span>&#46;</span>gov</a>&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">License:</th><td class="field-body">See LICENSE.TXT</td>
</tr>
<tr class="field-even field"><th class="field-name">ChangeLog:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">9/13/15         AB      Updated logging to use mosaicLogFormat class</div>
<div class="line">3/28/15         AB      Updated file read code to match new metaTrajIO API.</div>
<div class="line">5/23/13         AB      Initial version</div>
</div>
<dl class="class">
<dt id="mosaic.trajio.abfTrajIO.abfTrajIO">
<em class="property">class </em><code class="descclassname">mosaic.trajio.abfTrajIO.</code><code class="descname">abfTrajIO</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/abfTrajIO.html#abfTrajIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.abfTrajIO.abfTrajIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" title="mosaic.trajio.metaTrajIO.metaTrajIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">mosaic.trajio.metaTrajIO.metaTrajIO</span></code></a></p>
<p>Read ABF1 and ABF2 file formats. Currently, only 
gap-free mode and single channel recordings are supported.</p>
<p>A typical settings section to read ABF files is shown below.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;abfTrajIO&quot;</span> <span class="o">:</span> <span class="p">{</span>
<span class="s2">&quot;filter&quot;</span>                        <span class="o">:</span> <span class="s2">&quot;*.abf&quot;</span><span class="p">,</span>
<span class="s2">&quot;start&quot;</span>                         <span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="s2">&quot;dcOffset&quot;</span>                      <span class="o">:</span> <span class="mf">0.0</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>In addition to <code class="xref py py-class docutils literal notranslate"><span class="pre">metaTrajIO</span></code> args,</dt>
<dd><p class="first last">None</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mosaic.trajio.abfTrajIO.abfTrajIO.readdata">
<code class="descname">readdata</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/abfTrajIO.html#abfTrajIO.readdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.abfTrajIO.abfTrajIO.readdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Read one or more files and append their data to the data pipeline.
Set a class attribute Fs with the sampling frequency in Hz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>fname</cite> :  fileame to read</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>An array object that holds raw (unscaled) data from <cite>fname</cite></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><ul class="first last simple">
<li><cite>SamplingRateChangedError</cite> : if the sampling rate for any data file differs from previous</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mosaic-trajio-qdftrajio-module">
<h2>14.1.3.2. mosaic.trajio.qdfTrajIO module<a class="headerlink" href="#mosaic-trajio-qdftrajio-module" title="Permalink to this headline">¶</a></h2>
<img src="../_images/inheritance-06cc4cd44241b8598a78deb9a7ca563564c64030.png" alt="Inheritance diagram of mosaic.trajio.qdfTrajIO" usemap="#inheritance6b7c8f8a97" class="inheritance"/>
<map id="inheritance6b7c8f8a97" name="inheritance6b7c8f8a97">
<area shape="rect" id="node1" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" target="_top" title=".. warning:: |metaclass|" alt="" coords="5,5,163,29"/>
<area shape="rect" id="node2" href="../doc/settingsFile.html#mosaic.trajio.qdfTrajIO.qdfTrajIO" target="_top" title="Use the readqdf module from EBS to read individual QDF files." alt="" coords="211,5,346,29"/>
</map><span class="target" id="module-mosaic.trajio.qdfTrajIO"></span><p>QDF implementation of metaTrajIO. Uses the readqdf module from EBS to 
read individual qdf files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Created:</th><td class="field-body">7/18/2012</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Arvind Balijepalli &lt;<a class="reference external" href="mailto:arvind&#46;balijepalli&#37;&#52;&#48;nist&#46;gov">arvind<span>&#46;</span>balijepalli<span>&#64;</span>nist<span>&#46;</span>gov</a>&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">License:</th><td class="field-body">See LICENSE.TXT</td>
</tr>
<tr class="field-even field"><th class="field-name">ChangeLog:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">9/13/15         AB      Updated logging to use mosaicLogFormat class</div>
<div class="line">3/28/15         AB      Updated file read code to match new metaTrajIO API.</div>
<div class="line">7/18/12         AB      Initial version</div>
<div class="line">2/11/14         AB      Support qdf files that save the current in pA. This needs</div>
<div class="line-block">
<div class="line">format=’pA’ argument.</div>
</div>
</div>
<dl class="class">
<dt id="mosaic.trajio.qdfTrajIO.qdfTrajIO">
<em class="property">class </em><code class="descclassname">mosaic.trajio.qdfTrajIO.</code><code class="descname">qdfTrajIO</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/qdfTrajIO.html#qdfTrajIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.qdfTrajIO.qdfTrajIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" title="mosaic.trajio.metaTrajIO.metaTrajIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">mosaic.trajio.metaTrajIO.metaTrajIO</span></code></a></p>
<p>Use the readqdf module from EBS to read individual QDF files.</p>
<p>In addition to <code class="xref py py-class docutils literal notranslate"><span class="pre">metaTrajIO</span></code> args, check if the 
feedback resistance (<code class="docutils literal notranslate"><span class="pre">Rfb</span></code>) and feedback capacitance (<code class="docutils literal notranslate"><span class="pre">Cfb</span></code>)
are defined to convert qdf binary data into pA.</p>
<p>A typical settings section to read QDF files is shown below. Note, that
the values for <code class="docutils literal notranslate"><span class="pre">Rfb</span></code> and <code class="docutils literal notranslate"><span class="pre">Cfb</span></code> are specific to the amplifier used.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;qdfTrajIO&quot;</span><span class="o">:</span> <span class="p">{</span>
<span class="s2">&quot;Rfb&quot;</span>                           <span class="o">:</span> <span class="mf">9.1e+12</span><span class="p">,</span>
<span class="s2">&quot;Cfb&quot;</span>                           <span class="o">:</span> <span class="mf">1.07e-12</span><span class="p">,</span>
<span class="s2">&quot;dcOffset&quot;</span>                      <span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="s2">&quot;filter&quot;</span>                        <span class="o">:</span> <span class="s2">&quot;*.qdf&quot;</span><span class="p">,</span>
<span class="s2">&quot;start&quot;</span>                         <span class="o">:</span> <span class="mf">0.0</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>In addition to metaTrajIO.__init__ args,</dt>
<dd><ul class="first last simple">
<li><cite>Rfb</cite> :               feedback resistance of amplifier</li>
<li><cite>Cfb</cite> :               feedback capacitance of amplifier</li>
<li><cite>format</cite> :    ‘V’ for voltage or ‘pA’ for current. Default is ‘V’</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><ul class="first last simple">
<li><cite>InsufficientArgumentsError</cite> : if the mandatory arguments <code class="docutils literal notranslate"><span class="pre">Rfb</span></code> and <code class="docutils literal notranslate"><span class="pre">Cfb</span></code> are not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mosaic.trajio.qdfTrajIO.qdfTrajIO.readdata">
<code class="descname">readdata</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/qdfTrajIO.html#qdfTrajIO.readdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.qdfTrajIO.qdfTrajIO.readdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Read one or more files and append their data to the data pipeline.
Set a class attribute Fs with the sampling frequency in Hz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>fname</cite> :  list of data files to read</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><ul class="first last simple">
<li><cite>SamplingRateChangedError</cite> : if the sampling rate for any data file differs from previous</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mosaic-trajio-bintrajio-module">
<h2>14.1.3.3. mosaic.trajio.binTrajIO module<a class="headerlink" href="#mosaic-trajio-bintrajio-module" title="Permalink to this headline">¶</a></h2>
<img src="../_images/inheritance-8e35355045138a7046a80a0321ab6dfd186ee259.png" alt="Inheritance diagram of mosaic.trajio.binTrajIO" usemap="#inheritance24256f9782" class="inheritance"/>
<map id="inheritance24256f9782" name="inheritance24256f9782">
<area shape="rect" id="node1" href="#mosaic.trajio.binTrajIO.InvalidDataColumnError" target="_top" title="binTrajIO.InvalidDataColumnError" alt="" coords="5,53,227,77"/>
<area shape="rect" id="node2" href="../doc/settingsFile.html#mosaic.trajio.binTrajIO.binTrajIO" target="_top" title="Read a file that contains interleaved binary data, ordered by column. Only a single " alt="" coords="275,5,409,29"/>
<area shape="rect" id="node3" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" target="_top" title=".. warning:: |metaclass|" alt="" coords="37,5,195,29"/>
</map><span class="target" id="module-mosaic.trajio.binTrajIO"></span><p>Binary file implementation of metaTrajIO. Read raw binary files with specified record sizes</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Created:</th><td class="field-body">4/22/2013</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Arvind Balijepalli &lt;<a class="reference external" href="mailto:arvind&#46;balijepalli&#37;&#52;&#48;nist&#46;gov">arvind<span>&#46;</span>balijepalli<span>&#64;</span>nist<span>&#46;</span>gov</a>&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">License:</th><td class="field-body">See LICENSE.TXT</td>
</tr>
<tr class="field-even field"><th class="field-name">ChangeLog:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">9/13/15         AB      Updated logging to use mosaicLogFormat class</div>
<div class="line">3/28/15         AB      Updated file read code to match new metaTrajIO API.</div>
<div class="line">1/27/15         AB      Memory map files on read.</div>
<div class="line">1/26/15         AB      Refactored code to read interleaved binary data.</div>
<div class="line">7/27/14         AB      Update interface to specify python PythonStructCode instead of</div>
<div class="line-block">
<div class="line">RecordSize. This will allow any binary file to be decoded</div>
<div class="line">The AmplifierScale and AmplifierOffset are set to 1 and 0</div>
<div class="line">respectively if PythonStructCode is an integer or short.</div>
</div>
<div class="line">4/22/13         AB      Initial version</div>
</div>
</div></blockquote>
<dl class="class">
<dt id="mosaic.trajio.binTrajIO.binTrajIO">
<em class="property">class </em><code class="descclassname">mosaic.trajio.binTrajIO.</code><code class="descname">binTrajIO</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/binTrajIO.html#binTrajIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.binTrajIO.binTrajIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" title="mosaic.trajio.metaTrajIO.metaTrajIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">mosaic.trajio.metaTrajIO.metaTrajIO</span></code></a></p>
<p>Read a file that contains interleaved binary data, ordered by column. Only a single 
column that holds ionic current data is read. The current in pA 
is returned after scaling by the amplifier scale factor (<code class="docutils literal notranslate"><span class="pre">AmplifierScale</span></code>) and 
removing any offsets (<code class="docutils literal notranslate"><span class="pre">AmplifierOffset</span></code>) if provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Usage and Assumptions:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Binary data is interleaved by column. For three columns (<em>a</em>, <em>b</em>, and <em>c</em>) and <em>N</em> rows, 
binary data is assumed to be of the form:</p>
<blockquote>
<div><p>[ a_1, b_1, c_1, a_2, b_2, c_2, … … …, a_N, b_N, c_N ]</p>
</div></blockquote>
<p>The column layout is specified with the <code class="docutils literal notranslate"><span class="pre">ColumnTypes</span></code> parameter, which accepts a list of tuples. 
For the example above, if column <strong>a</strong> is the ionic current in a 64-bit floating point format, 
column <strong>b</strong> is the ionic current representation in 16-bit integer format and column <strong>c</strong> is 
an index in 16-bit integer format, the <code class="docutils literal notranslate"><span class="pre">ColumnTypes</span></code> paramter is a list with three 
tuples, one for each column, as shown below:</p>
<blockquote>
<div><p>[(‘curr_pA’, ‘float64’), (‘AD_V’, ‘int16’), (‘index’, ‘int16’)]</p>
</div></blockquote>
<p>The first element of each tuple is an arbitrary text label and the second element is 
a valid <a class="reference external" href="http://docs.scipy.org/doc/numpy/user/basics.types.html">Numpy type</a>.</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">IonicCurrentColumn</span></code> parameter holds the name (text label defined above) of the 
column that holds the ionic current time-series. Note that if an integer column is selected, 
the <code class="docutils literal notranslate"><span class="pre">AmplifierScale</span></code> and <code class="docutils literal notranslate"><span class="pre">AmplifierOffset</span></code> parameters can be used to convert the voltage from 
the A/D to a current.</p>
<p>Assuming that we use a floating point representation of the ionic current, and
a sampling rate of 50 kHz, a settings section that will read the binary file format 
defined above is:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;binTrajIO&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;AmplifierScale&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;AmplifierOffset&quot;</span> <span class="o">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SamplingFrequency&quot;</span> <span class="o">:</span> <span class="s2">&quot;50000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ColumnTypes&quot;</span> <span class="o">:</span> <span class="s2">&quot;[(&#39;curr_pA&#39;, &#39;float64&#39;), (&#39;AD_V&#39;, &#39;int16&#39;), (&#39;index&#39;, &#39;int16&#39;)]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;IonicCurrentColumn&quot;</span> <span class="o">:</span> <span class="s2">&quot;curr_pA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dcOffset&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="s2">&quot;*.bin&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;HeaderOffset&quot;</span><span class="o">:</span> <span class="mi">0</span> 
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Settings Examples:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Read 16-bit signed integers (big endian) with a 512 byte header offset. Set the amplifier scale to 400 pA, sampling rate to 200 kHz.</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;binTrajIO&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;AmplifierOffset&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;SamplingFrequency&quot;</span><span class="o">:</span> <span class="mi">200000</span><span class="p">,</span> 
        <span class="s2">&quot;AmplifierScale&quot;</span><span class="o">:</span> <span class="s2">&quot;400./2**16&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;ColumnTypes&quot;</span><span class="o">:</span> <span class="s2">&quot;[(&#39;curr_pA&#39;, &#39;&gt;i2&#39;)]&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;dcOffset&quot;</span><span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span> 
        <span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="s2">&quot;*.dat&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span> 
        <span class="s2">&quot;HeaderOffset&quot;</span><span class="o">:</span> <span class="mi">512</span><span class="p">,</span> 
        <span class="s2">&quot;IonicCurrentColumn&quot;</span><span class="o">:</span> <span class="s2">&quot;curr_pA&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Read a two-column file: 64-bit floating point and 64-bit integers, and no header offset. Set the amplifier scale to 1 and sampling rate to 200 kHz.</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;binTrajIO&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;AmplifierOffset&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;SamplingFrequency&quot;</span><span class="o">:</span> <span class="mi">200000</span><span class="p">,</span> 
        <span class="s2">&quot;AmplifierScale&quot;</span><span class="o">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;ColumnTypes&quot;</span> <span class="o">:</span> <span class="s2">&quot;[(&#39;curr_pA&#39;, &#39;float64&#39;), (&#39;AD_V&#39;, &#39;int64&#39;)]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dcOffset&quot;</span><span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span> 
        <span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="s2">&quot;*.bin&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span> 
        <span class="s2">&quot;HeaderOffset&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
        <span class="s2">&quot;IonicCurrentColumn&quot;</span><span class="o">:</span> <span class="s2">&quot;curr_pA&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>In addition to <code class="xref py py-class docutils literal notranslate"><span class="pre">metaTrajIO</span></code> args,</dt>
<dd><ul class="first last simple">
<li><cite>AmplifierScale</cite> :            Full scale of amplifier (pA/2^nbits) that varies with the gain (default: 1.0).</li>
<li><cite>AmplifierOffset</cite> :           Current offset in the recorded data in pA  (default: 0.0).</li>
<li><cite>SamplingFrequency</cite> : Sampling rate of data in the file in Hz.</li>
<li><cite>HeaderOffset</cite> :              Ignore first <em>n</em> bytes of the file for header (default: 0 bytes).</li>
<li><cite>ColumnTypes</cite> :       A list of tuples with column names and types (see <a class="reference external" href="http://docs.scipy.org/doc/numpy/user/basics.types.html">Numpy types</a>). Note only integer and floating point numbers are supported.</li>
<li><cite>IonicCurrentColumn</cite> : Column name that holds ionic current data.</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mosaic.trajio.binTrajIO.binTrajIO.readdata">
<code class="descname">readdata</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/binTrajIO.html#binTrajIO.readdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.binTrajIO.binTrajIO.readdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return raw data from a single data file. Set a class 
attribute Fs with the sampling frequency in Hz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>fname</cite> :  fileame to read</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>An array object that holds raw (unscaled) data from <cite>fname</cite></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mosaic.trajio.binTrajIO.binTrajIO.scaleData">
<code class="descname">scaleData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/binTrajIO.html#binTrajIO.scaleData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.binTrajIO.binTrajIO.scaleData" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">mosaic.metaTrajIO.metaTrajIO.scaleData()</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mosaic.trajio.binTrajIO.InvalidDataColumnError">
<em class="property">exception </em><code class="descclassname">mosaic.trajio.binTrajIO.</code><code class="descname">InvalidDataColumnError</code><a class="reference internal" href="../_modules/mosaic/trajio/binTrajIO.html#InvalidDataColumnError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.binTrajIO.InvalidDataColumnError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="mosaic-trajio-chimeratrajio-module">
<h2>14.1.3.4. mosaic.trajio.chimeraTrajIO module<a class="headerlink" href="#mosaic-trajio-chimeratrajio-module" title="Permalink to this headline">¶</a></h2>
<img src="../_images/inheritance-a3fecbd79175fde2e773a1455cf7996f947c1e61.png" alt="Inheritance diagram of mosaic.trajio.chimeraTrajIO" usemap="#inheritanceae9304eec5" class="inheritance"/>
<map id="inheritanceae9304eec5" name="inheritanceae9304eec5">
<area shape="rect" id="node1" href="#mosaic.trajio.chimeraTrajIO.InvalidDataColumnError" target="_top" title="chimeraTrajIO.InvalidDataColumnError" alt="" coords="5,53,257,77"/>
<area shape="rect" id="node2" href="../doc/settingsFile.html#mosaic.trajio.chimeraTrajIO.chimeraTrajIO" target="_top" title="Read a file generated by the Chimera VC100. The current in pA " alt="" coords="305,5,498,29"/>
<area shape="rect" id="node3" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" target="_top" title=".. warning:: |metaclass|" alt="" coords="52,5,210,29"/>
</map><span class="target" id="module-mosaic.trajio.chimeraTrajIO"></span><p>Chimera VC100 concatenated file format implementation of metaTrajIO. Read concatenated chimera files with specified amplifier settings.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Created:</th><td class="field-body">7/11/2016</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Kyle Briggs &lt;<a class="reference external" href="mailto:kbrig035&#37;&#52;&#48;uottawa&#46;ca">kbrig035<span>&#64;</span>uottawa<span>&#46;</span>ca</a>&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">License:</th><td class="field-body">See LICENSE.TXT</td>
</tr>
<tr class="field-even field"><th class="field-name">ChangeLog:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">7/29/16         KB      Miscelleneous bugfixes</div>
<div class="line">7/11/16         KB      Initial version</div>
</div>
</div></blockquote>
<dl class="class">
<dt id="mosaic.trajio.chimeraTrajIO.chimeraTrajIO">
<em class="property">class </em><code class="descclassname">mosaic.trajio.chimeraTrajIO.</code><code class="descname">chimeraTrajIO</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/chimeraTrajIO.html#chimeraTrajIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.chimeraTrajIO.chimeraTrajIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" title="mosaic.trajio.metaTrajIO.metaTrajIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">mosaic.trajio.metaTrajIO.metaTrajIO</span></code></a></p>
<p>Read a file generated by the Chimera VC100. The current in pA 
is returned after scaling by the amplifier scale factors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Usage and Assumptions:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Binary data is in a single column. As of 7/11/16 can only be unsigned 16 bit integers and has only one column:</p>
<p>The column layout is specified with the <code class="docutils literal notranslate"><span class="pre">ColumnTypes</span></code> parameter, which accepts a list of tuples.</p>
<blockquote>
<div><p>[(‘curr_pA’, ‘&lt;u2’)]</p>
</div></blockquote>
<p>The option is left in in case of future changes to the platform, but can be left alone in the settings file for now.
The first element of each tuple is an arbitrary text label and the second element is 
a valid <a class="reference external" href="http://docs.scipy.org/doc/numpy/user/basics.types.html">Numpy type</a>.</p>
<p>Chimera gain settings are used to convert the integers stored by the ADC to current values.
The following block provides an example. Parameters can be found in the .mat files output by the VC100.</p>
<p>IMPORTANT: This setup assumes that all files that match <cite>filter</cite> have the same ADC settings.
Future versions could imlement reading of the matching .mat files to remove the necessity
to enter these parameters.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;chimeraTrajIO&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;TIAgain&quot;</span> <span class="o">:</span> <span class="s2">&quot;100000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;preADCgain&quot;</span> <span class="o">:</span> <span class="s2">&quot;1.305&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SamplingFrequency&quot;</span> <span class="o">:</span> <span class="s2">&quot;4166666.66667&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ColumnTypes&quot;</span> <span class="o">:</span> <span class="s2">&quot;[(&#39;curr_pA&#39;, &#39;&lt;u2&#39;)]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;IonicCurrentColumn&quot;</span> <span class="o">:</span> <span class="s2">&quot;curr_pA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mVoffset&quot;</span><span class="o">:</span> <span class="s2">&quot;-0.2776&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pAoffset&quot;</span><span class="o">:</span> <span class="s2">&quot;2.0e-10&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ADCvref&quot;</span><span class="o">:</span> <span class="s2">&quot;2.5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ADCbits&quot;</span><span class="o">:</span> <span class="s2">&quot;14&quot;</span><span class="p">,</span>
        <span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="s2">&quot;*.log&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;HeaderOffset&quot;</span><span class="o">:</span> <span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first">In addition to <code class="xref py py-class docutils literal notranslate"><span class="pre">metaTrajIO</span></code> args,</p>
<blockquote>
<div><ul class="simple">
<li><cite>SamplingFrequency</cite> : Sampling rate of data in the file in Hz.</li>
<li><cite>ColumnTypes</cite> :       A list of tuples with column names and types (see <a class="reference external" href="http://docs.scipy.org/doc/numpy/user/basics.types.html">Numpy types</a>). Note only integer and floating point numbers are supported.</li>
<li><cite>IonicCurrentColumn</cite>: Column name that holds ionic current data.</li>
<li><cite>mVoffset</cite> :          voltage offset of ADC</li>
<li><cite>ADCvref</cite> :           voltage reference point for ADC</li>
<li><cite>ADCbits</cite> :           amplifier scale precision in bits</li>
<li><cite>TIAgain</cite> :           Feedback resistor value.</li>
<li><cite>preADCgain</cite> :        analog gain before ADC</li>
<li><cite>HeaderOffset</cite> :      Ignore first <em>n</em> bytes of the file for header (currently fixed at: 0 bytes).</li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Errors:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mosaic.trajio.chimeraTrajIO.chimeraTrajIO.readdata">
<code class="descname">readdata</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/chimeraTrajIO.html#chimeraTrajIO.readdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.chimeraTrajIO.chimeraTrajIO.readdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return raw data from a single data file. Set a class 
attribute Fs with the sampling frequency in Hz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>fname</cite> :  fileame to read</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>An array object that holds raw (unscaled) data from <cite>fname</cite></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mosaic.trajio.chimeraTrajIO.chimeraTrajIO.scaleData">
<code class="descname">scaleData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/chimeraTrajIO.html#chimeraTrajIO.scaleData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.chimeraTrajIO.chimeraTrajIO.scaleData" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">mosaic.metaTrajIO.metaTrajIO.scaleData()</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mosaic.trajio.chimeraTrajIO.InvalidDataColumnError">
<em class="property">exception </em><code class="descclassname">mosaic.trajio.chimeraTrajIO.</code><code class="descname">InvalidDataColumnError</code><a class="reference internal" href="../_modules/mosaic/trajio/chimeraTrajIO.html#InvalidDataColumnError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.chimeraTrajIO.InvalidDataColumnError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="mosaic-trajio-tsvtrajio-module">
<h2>14.1.3.5. mosaic.trajio.tsvTrajIO module<a class="headerlink" href="#mosaic-trajio-tsvtrajio-module" title="Permalink to this headline">¶</a></h2>
<img src="../_images/inheritance-ec7e5549443d2218337fc5c9e8d0f4265cc08c03.png" alt="Inheritance diagram of mosaic.trajio.tsvTrajIO" usemap="#inheritance3cb00b4a80" class="inheritance"/>
<map id="inheritance3cb00b4a80" name="inheritance3cb00b4a80">
<area shape="rect" id="node1" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" target="_top" title=".. warning:: |metaclass|" alt="" coords="5,5,163,29"/>
<area shape="rect" id="node2" href="../doc/settingsFile.html#mosaic.trajio.tsvTrajIO.tsvTrajIO" target="_top" title="Read tab separated valued (TSV) files. " alt="" coords="211,5,343,29"/>
</map><span class="target" id="module-mosaic.trajio.tsvTrajIO"></span><p>An implementation of metaTrajIO that reads tab separated valued (TSV) files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Created:</th><td class="field-body">7/31/2012</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Arvind Balijepalli &lt;<a class="reference external" href="mailto:arvind&#46;balijepalli&#37;&#52;&#48;nist&#46;gov">arvind<span>&#46;</span>balijepalli<span>&#64;</span>nist<span>&#46;</span>gov</a>&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">License:</th><td class="field-body">See LICENSE.TXT</td>
</tr>
<tr class="field-even field"><th class="field-name">ChangeLog:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">11/30/15        AB      Assumes <code class="docutils literal notranslate"><span class="pre">timeCol</span></code> is specified in seconds.</div>
<div class="line">11/30/15        AB      Added a new keyword <code class="docutils literal notranslate"><span class="pre">scale</span></code> to allow scaling TSV data.</div>
<div class="line">3/28/15         AB      Updated file read code to match new metaTrajIO API.</div>
<div class="line">6/30/13         AB      Added the ‘seprator’ kwarg to the class initializer to allow any delimited</div>
<div class="line-block">
<div class="line">files to be read. e.g. ‘”“t’ (default), ‘,’, etc.</div>
</div>
<div class="line">7/31/12         AB      Initial version</div>
</div>
<dl class="class">
<dt id="mosaic.trajio.tsvTrajIO.tsvTrajIO">
<em class="property">class </em><code class="descclassname">mosaic.trajio.tsvTrajIO.</code><code class="descname">tsvTrajIO</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/tsvTrajIO.html#tsvTrajIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.tsvTrajIO.tsvTrajIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../doc/settingsFile.html#mosaic.trajio.metaTrajIO.metaTrajIO" title="mosaic.trajio.metaTrajIO.metaTrajIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">mosaic.trajio.metaTrajIO.metaTrajIO</span></code></a></p>
<p>Read tab separated valued (TSV) files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>In addition to <code class="xref py py-class docutils literal notranslate"><span class="pre">metaTrajIO</span></code> args,</dt>
<dd><ul class="first simple">
<li><cite>headers</cite> :           If True, the first row is ignored (default: True)</li>
<li><cite>separator</cite> : set the data separator (defualt: ‘”“t’)</li>
<li><cite>scale</cite> : set the data scale (default: 1). For example to convert from  to pA set <code class="docutils literal notranslate"><span class="pre">scale=1e12</span></code>.</li>
</ul>
<dl class="last docutils">
<dt>Either:</dt>
<dd><ul class="first last simple">
<li><cite>Fs</cite> :                        Sampling frequency in Hz. If set, all other options are ignored and the first column in the file is assumed to be the current in pA.</li>
</ul>
</dd>
<dt>Or:</dt>
<dd><ul class="first last simple">
<li><cite>nCols</cite> :             number of columns in TSV file (default:2, first column is time in ms and second is current in pA)</li>
<li><cite>timeCol</cite> :           explicitly set the time column (default: 0, first col)</li>
<li><cite>currCol</cite> :           explicitly set the position of the current column (default: 1)</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p class="last">If neither <code class="docutils literal notranslate"><span class="pre">Fs</span></code> nor {<code class="docutils literal notranslate"><span class="pre">nCols</span></code>, <code class="docutils literal notranslate"><span class="pre">timeCol</span></code>, <code class="docutils literal notranslate"><span class="pre">currCol</span></code>} are set then the latter 
is assumed with the listed default values.</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mosaic.trajio.tsvTrajIO.tsvTrajIO.readdata">
<code class="descname">readdata</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/tsvTrajIO.html#tsvTrajIO.readdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.tsvTrajIO.tsvTrajIO.readdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a single TSV file and return raw (unscaled) data contained within it.
Set/update a class attribute Fs with the sampling frequency in Hz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>fname</cite> :  fileame to read</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>An array object that holds raw (unscaled) data from <cite>fname</cite></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errors:</th><td class="field-body"><ul class="first last simple">
<li><cite>SamplingRateChangedError</cite> : if the sampling rate for any data file differs from previous</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mosaic.trajio.tsvTrajIO.tsvTrajIO.scaleData">
<code class="descname">scaleData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mosaic/trajio/tsvTrajIO.html#tsvTrajIO.scaleData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mosaic.trajio.tsvTrajIO.tsvTrajIO.scaleData" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last"><strong>Abstract method:</strong> This optional interface method can be overridden by a sub-class to modify functionality.</p>
</div>
<p>Scale the raw data loaded with <code class="xref py py-func docutils literal notranslate"><span class="pre">readdata()</span></code>. Note this function will not necessarily receive the entire data array loaded with <code class="xref py py-func docutils literal notranslate"><span class="pre">readdata()</span></code>. Transformations must be able to process partial data chunks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>data</cite> : partial chunk of raw data loaded using <code class="xref py py-func docutils literal notranslate"><span class="pre">readdata()</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>Array containing scaled data.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Default Behavior:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li>If not implemented by a sub-class, the default behavior is to return <code class="docutils literal notranslate"><span class="pre">data</span></code> to the calling function without modifications.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first last">Assuming the amplifier scale and offset values are stored in the class variables <code class="docutils literal notranslate"><span class="pre">AmplifierScale</span></code> and <code class="docutils literal notranslate"><span class="pre">AmplifierOffset</span></code>, the raw data read using <code class="xref py py-func docutils literal notranslate"><span class="pre">readdata()</span></code> can be transformed by <code class="xref py py-func docutils literal notranslate"><span class="pre">scaleData()</span></code>. We can also use this function to change the array data type.</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scaleData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">AmplifierScale</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">AmplifierOffset</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;f8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<!-- 
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.<br/>
    </p>
  </div>
</footer> -->
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<div class="footer" style="vertical-align: center" align="center">
		<table width="90%" style="vertical-align: center">
			<col width=40%>
			<col width=60%>
			<tr>
				<td align="left">
					<a href="../doc/Developers.html"><small><em>MOSAIC Developers</em></small></a> |
					<a href="http://www.nist.gov/pml/div683/grp06/abalijepalli.cfm"><small><em>Contact</em></small></a> |
					<a href="../doc/Disclaimer.html"><small><em>Terms of Use</em></small></a>
				</td>
			<!-- </tr>
			<tr> -->
				<td align="right">
					<a target="_blank" href="http://www.nist.gov/public_affairs/privacy.cfm#privpolicy"><small>Privacy Policy</small></a> |
					<a target="_blank" href="http://www.nist.gov/public_affairs/privacy.cfm#secnot"><small>Security Notice</small></a> |
					<a href="http://www.nist.gov/public_affairs/privacy.cfm#accesstate"><small>Accessibility Statement</small></a> |
					<a target="_blank" href="mailto:data@nist.gov?subject=Feedback%20on%20Web%20Site%20Template"><small>Send feedback</small></a>
					<br/>
				</td>
			</tr>
		</table>

		<br />
		<a href="http://www.nist.gov/"><small><em>National Institute of Standards and Technology</em></small></a>
		<!-- <a href="http://www.nist.gov"><img src="_static/nist_logo.png" width="30%" alt="National Institute of Standards and Technology"></a> -->

</div>

  </body>
</html>